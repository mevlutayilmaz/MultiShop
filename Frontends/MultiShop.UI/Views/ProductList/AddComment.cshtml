<div class="col-md-6">
    <h4 class="mb-4">Leave a review</h4>
    <small>Your email address will not be published. Required fields are marked *</small>
    <div class="d-flex my-3">
        <p class="mb-0 mr-2">Your Rating * :</p>
        <div class="rating-stars text-primary">
            <i class="far fa-star" data-value="1"></i>
            <i class="far fa-star" data-value="2"></i>
            <i class="far fa-star" data-value="3"></i>
            <i class="far fa-star" data-value="4"></i>
            <i class="far fa-star" data-value="5"></i>
        </div>
        
    </div>
    <form asp-controller="ProductList" asp-action="AddComment" method="post">
        <input type="hidden" id="rating" name="Rating">
        <div class="form-group">
            <input type="hidden" class="form-control" id="id" name="ProductId" value="@ViewBag.id" required>
        </div>
        <div class="form-group">
            <label for="name">Your Name *</label>
            <input type="text" class="form-control" id="name" name="NameSurname" required>
        </div>
        <div class="form-group">
            <label for="email">Your Email *</label>
            <input type="email" class="form-control" id="email" name="Email" required>
        </div>
        <div class="form-group">
            <label for="message">Your Review *</label>
            <textarea id="message" cols="30" rows="5" class="form-control" name="CommentDetail" required></textarea>
        </div>
        <div class="form-group mb-0">
            <input type="submit" value="Leave Your Review" class="btn btn-primary px-3">
        </div>
    </form>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const stars = document.querySelectorAll('.rating-stars .fa-star');
        const ratingInput = document.getElementById('rating');

        stars.forEach(star => {
            star.addEventListener('mouseover', function() {
                const value = this.getAttribute('data-value');
                updateStars(value);
            });

            star.addEventListener('click', function() {
                const value = this.getAttribute('data-value');
                ratingInput.value = value;
            });

            star.addEventListener('mouseout', function() {
                const value = ratingInput.value;
                updateStars(value);
            });
        });

        function updateStars(rating) {
            stars.forEach(star => {
                if (star.getAttribute('data-value') <= rating) {
                    star.classList.remove('far');
                    star.classList.add('fas');
                } else {
                    star.classList.remove('fas');
                    star.classList.add('far');
                }
            });
        }
    });
</script>
